<html>
  <head>
    <title>Hyperbolic Cellular Automata Simulator</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" type="text/css" href="styles.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Dosis:wght@200..800&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div id="header">
      <div id="variant-menu">
        <div class="dropdown">
          <button id="variant-button">
            <svg
              version="1.1"
              id="svg2"
              xmlns:dc="http://purl.org/dc/elements/1.1/"
              xmlns:cc="http://creativecommons.org/ns#"
              xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
              xmlns:svg="http://www.w3.org/2000/svg"
              xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
              xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
              sodipodi:docname="lines.svg"
              inkscape:version="0.48.4 r9939"
              xmlns="http://www.w3.org/2000/svg"
              xmlns:xlink="http://www.w3.org/1999/xlink"
              viewBox="0 0 1200 1200"
              enable-background="new 0 0 1200 1200"
              xml:space="preserve"
            >
              <path
                id="rect3039"
                inkscape:connector-curvature="0"
                d="M0,0v240h1200V0H0z M0,480v240h1200V480H0z M0,960v240h1200V960H0z"
              />
            </svg>
          </button>
          <div id="dropdown-content-1">
            <button id="btn-original" title="Play Conway's Game of Life" class="">
              Conway's Game of Life
            </button>
            <button id="btn-immigration" title="Play the Immigration Game" class="">
              Immigration Game
            </button>
            <button id="btn-rainbow" title="Play the Rainbow Game of Life" class="">
              Rainbow Game of Life
            </button>
          </div>
        </div>
        <div id="variant-name">Conway's Game of Life</div>
      </div>
      <div id="references">
        <button id="btn-examples" class="hidden enabled">Sample Simulations</button>
        <button id="btn-guide" class="enabled">User Guide</button>
      </div>
    </div>
    <div id="guide-intro" class="hidden">
      <div class="guide-title">Welcome to the User Guide!</div>
      <div class="guide-content">
        Select the areas contained in <span class="add-emp">dashed lines</span> to understand how
        each component works. Alternatively, select
        <span class="add-emp">Sample Simulations</span> button to view examples of how the Game of
        Life and its variants are played. <br /><br />

        To return to the simulator, click on the <span class="add-emp">User Guide</span> button to
        switch off User Guide Mode.
      </div>
    </div>
    <div id="examples-guide" class="hidden">
      <div class="guide-title">Sample Simulations</div>
      <div class="guide-content">
        Understand the Game of Life and its Variants with examples on rulestring
        <span class="add-emp">B 3 S 2 3</span>.
        <div id="variant-examples-buttons">
          <button
            id="btn-conway-examples"
            title="Show an example of Conway's Game of Life"
            class="button-active"
          >
            Conway's Game of Life
          </button>
          <button id="btn-immigration-examples" title="Show an example of the Immigration Game">
            Immigration Game
          </button>
          <button id="btn-rainbow-examples" title="Show an example of the Rainbow Game of Life">
            Rainbow Game of Life
          </button>
        </div>
        <div id="conway-example">
          <div class="flex-container">
            <div id="disk-container">
              <div class="flex-container">
                <div>
                  <div class="caption">Generation 0</div>
                  <img
                    src="media/conwayGen0.png"
                    alt="An Example of an Inital Configuration of Cells (Generation 0) in Conway's Game of Life"
                  />
                </div>
              </div>
              <div class="flex-container">
                <div>
                  <div class="caption">Generation 1</div>
                  <img
                    src="media/conwayGen1.png"
                    alt="An Example of Generation 1 in Conway's Game of Life"
                  />
                </div>
              </div>
            </div>
            <div id="explanation-container">
              For <span class="add-emp">Birthability</span>, focus on the dead (pink) cells. Given B
              3, a dead cell will be born in the next generation only if it has 3 live neighbors.
              Among the dead cells, only Cell 4 has 3 live neighbors &#8212; Cell 1, Cell 2, and
              Cell 3. Thus,
              <span class="add-emp">Cell 4 will be born (black) in Generation 1</span>.<br /><br />
              For <span class="add-emp">Survivability</span>, focus on the live (black) cells. Given
              S 2 3, a live cell will survive in the next generation only if it has 2 or 3 live
              neighbors. Among the live cells, only Cell 2 has 2 live neighbors &#8212; Cell 1 and
              Cell 3. Thus,
              <span class="add-emp">only Cell 2 will survive (black) in Generation 1</span>.
            </div>
          </div>
        </div>
        <div id="immigration-example" class="hidden">
          <div class="flex-container">
            <div id="disk-container">
              <div class="flex-container">
                <div>
                  <div class="caption">Generation 0</div>
                  <img
                    src="media/immigrationGen0.png"
                    alt="An Example of an Inital Configuration of Cells (Generation 0) in the Immigration Game"
                  />
                </div>
              </div>
              <div class="flex-container">
                <div>
                  <div class="caption">Generation 1</div>
                  <img
                    src="media/immigrationGen1.png"
                    alt="An Example of Generation 1 in the Immigration Game"
                  />
                </div>
              </div>
            </div>
            <div id="explanation-container">
              For <span class="add-emp">Birthability</span>, focus on the dead (pink) cells. Given B
              3, a dead cell will be born in the next generation only if it has 3 live neighbors.
              Among the dead cells, only Cell 4 has 3 live neighbors &#8212; Cell 1, Cell 2, and
              Cell 3. Additionally, red is color of the majority of its live neighbors. Thus,
              <span class="add-emp">Cell 4 will be born (red) in Generation 1</span>.<br /><br />
              For <span class="add-emp">Survivability</span>, focus on the live (red and blue)
              cells. Given S 2 3, a live cell will survive in the next generation only if it has 2
              or 3 live neighbors. Among the live cells, only Cell 2 has 2 live neighbors &#8212;
              Cell 1 and Cell 3. Thus,
              <span class="add-emp">only Cell 2 will survive (blue) in Generation 1</span>.
            </div>
          </div>
        </div>
        <div id="rainbow-example" class="hidden">
          <div class="flex-container">
            <div id="disk-container">
              <div class="flex-container">
                <div>
                  <div class="caption">Generation 0</div>
                  <img
                    src="media/rainbowGen0.png"
                    alt="An Example of an Inital Configuration of Cells (Generation 0) in the Rainbow Game of Life"
                  />
                </div>
              </div>
              <div class="flex-container">
                <div>
                  <div class="caption">Generation 1</div>
                  <img
                    src="media/rainbowGen1.png"
                    alt="An Example of Generation 1 in the Rainbow Game of Life"
                  />
                </div>
              </div>
            </div>
            <div id="explanation-container">
              <div id="greyscale">
                <img src="media/greyscale.jpg" alt="Greyscale Chart" />
                <div class="caption">Greyscale Chart</div>
              </div>
              <br />
              For <span class="add-emp">Birthability</span>, focus on the dead (pink) cells. Given B
              3, a dead cell will be born in the next generation only if it has 3 live neighbors.
              Among the dead cells, only Cell 4 has 3 live neighbors &#8212; Cell 1, Cell 2, and
              Cell 3. According to the greyscale chart, black and white have values 10 and 1,
              respectively. The mean color of Cell 4's live neighbors is (10+10+1)/3 = 7. Thus,
              <span class="add-emp"
                >Cell 4 will be born (color 7 on greyscale chart) in Generation 1</span
              >.<br /><br />
              For <span class="add-emp">Survivability</span>, focus on the live (black and white)
              cells. Given S 2 3, a live cell will survive in the next generation only if it has 2
              or 3 live neighbors. Among the live cells, only Cell 2 has 2 live neighbors &#8212;
              Cell 1 and Cell 3. Thus,
              <span class="add-emp">only Cell 2 will survive (white) in Generation 1</span>.
            </div>
          </div>
        </div>
      </div>
      <div class="close-guide" id="close-examples">Close</div>
    </div>
    <div id="variant-menu-guide" class="hidden">
      <div class="guide-title">Variant Menu</div>
      <div class="guide-content">
        Choose to either play Conway's Game of Life or its variants.
        <p>
          <span class="add-emp">Conway's Game of Life</span> <br />Each cell has two states: a dead
          state (uncolored) and a live state (black). Cells evolve following only Birthability and
          Survivability rules.
        </p>
        <p>
          <span class="add-emp">Immigration Game</span> <br />Each cell has three states: a dead
          state (uncolored) and two live states (red and blue). Cells evolve following Birthability
          and Survivability rules and an extra coloring rule where a dead cell that is birthed takes
          on the color of the majority of its live neighbors.
        </p>
        <p>
          <span class="add-emp">Rainbow Game of Life</span> <br />Each cell has eleven states: a
          dead state (uncolored) and ten live states (refer to greyscale chart). Cells evolve
          following Birthability and Survivability rules and an extra coloring rule where a dead
          cell that is birthed takes on the color corresponding to the ceiling of the arithmetic
          mean of the colors of its live neighbors.
        </p>
        <div id="greyscale">
          <img src="media/greyscale.jpg" alt="Greyscale Chart" />
          <div class="caption">Greyscale Chart</div>
        </div>
      </div>
      <div class="close-guide" id="close-variant-menu-guide">Close</div>
    </div>

    <div id="main">
      <div id="main-row">
        <!--Main toolbar, containing most useful buttons-->
        <!-- other tools -->
        <div id="left-sidebar">
          <!-- misc status information -->
          <div id="save-load">
            <button
              id="btn-db-save"
              class="hover"
              title="(Ctrl+S) Save state to the local database"
            >
              Save
            </button>
            <button
              id="btn-db-load"
              class="hover"
              title="(Ctrl+O) Load state from the local database"
            >
              Open
            </button>
            <button id="btn-export-svg" class="hover" title="Export image as SVG">SVG</button>
          </div>
          <div id="tiling-dash">
            <div id="tiling">
              Tiling
              <div id="tiling-input">
                &#123;&nbsp;
                <input id="entry-p" type="number" class="short" placeholder="p" />
                <input id="entry-q" type="number" class="short" placeholder="q" />
                &nbsp;&#125;
              </div>
              <button id="btn-set-grid" class="hover" title="Apply this tiling">Set</button>
            </div>
          </div>
          <div id="tiling-guide" class="hidden">
            <div class="guide-title">Tiling Control</div>
            <div class="guide-content">
              Change the entries in the input boxes to set the tiling {p,q} for the Poincaré Disk.
              <br /><br />
              In this context: <br />
              <span class="add-emp">p</span> = the number of sides of the polygons <br />
              <span class="add-emp">q</span> = the number of polygons that meet at a vertex
              <br /><br />
              Note that changing the values of p and q affects the number of
              <span class="add-emp">neighbors</span> that cell has. The number of neighbors can be
              found in the Simulation Data.
            </div>
            <div class="close-guide" id="close-tiling">Close</div>
          </div>
          <div id="rules-dash">
            <div id="rules">
              <span id="controls-rule-simple">
                Rule<br />
                <div id="rule-variants">
                  <div id="rule-variant-labels">
                    <div id="rule-selction-label">Rule Selection</div>
                    <div id="updating-label">Updating</div>
                  </div>
                  <div id="rule-selection-menu">
                    <div class="dropdown">
                      <button id="rule-selection-button">Static</button>
                      <div id="dropdown-content-2">
                        <button id="btn-static" title="Use one rule only">Static</button>
                        <button id="btn-dynamic" title="Use multiple rules">Dynamic</button>
                      </div>
                    </div>
                    <div class="dropdown">
                      <button id="updating-button">Synchronous</button>
                      <div id="dropdown-content-3">
                        <button id="btn-synch" title="Update all cells simultaneously">
                          Synchronous
                        </button>
                        <button id="btn-asynch" title="Update cells individually">
                          Asynchronous
                        </button>
                      </div>
                    </div>
                  </div>
                </div>

                <div id="rules-container"><input id="rule-entry" placeholder="Rulestring" /></div>
                <div id="additional-rules-container" style="display: none">
                  <input id="rule-entry-1" placeholder="Rulestring 2" />
                  <input id="rule-entry-2" placeholder="Rulestring 3" />
                </div>

                <button id="btn-set-rule" class="hover" title="Apply this rule">Set</button>
              </span>
              <!--For future clean-ups-->
              <span id="controls-rule-generic" style="display: none"> Generic rule<br /> </span>
            </div>
          </div>
          <div id="rules-guide" class="hidden">
            <div class="guide-title">Rule Control</div>
            <div class="guide-content">
              Choose the Rule Selection and Updating policies that the simulator will follow.
              <br /><br />
              <span class="add-emp">Rule Selection</span> dictates which rule is chosen per
              generation. For the Rule Selection Policy, we have two options:<br />
              <ol>
                <li>
                  <span class="add-emp">Static</span> = Only one rule is used for the entire run
                </li>
                <li>
                  <span class="add-emp">Dynamic</span> = The rule selected for each generation
                  cycles between three rules
                </li>
              </ol>

              <span class="add-emp">Updating</span> dictates how cells are updated each generation.
              For the Updating Policy, we also two options:<br />

              <ol>
                <li>
                  <span class="add-emp">Synchronous</span> = All cells update simulataneously every
                  generation
                </li>

                <li>
                  <span class="add-emp">Asynchronous</span> = Each cell updates independently with a
                  probability of 0.5 (50%)
                </li>
              </ol>
              The rule/s can be configured by editing the
              <span class="add-emp">rulestring/s</span> in the input box/es. Rules must follow
              format <span class="add-emp">B</span> x <span class="add-emp">S</span> y.<br />

              <ol>
                <li>
                  <span class="add-emp">Birthability</span> = A dead cell is born in the next
                  generation if it has x live neighbors
                </li>

                <li>
                  <span class="add-emp">Survivability</span> = A live cell survives in the next
                  generation if it has y live neighbors
                </li>
              </ol>

              Note that x and y are subsets of digits from 0 to the number of neighbors a cell has.
            </div>
            <div class="close-guide" id="close-rules">Close</div>
          </div>

          <div id="save-load-guide" class="hidden">
            <div class="guide-title">Saving and Loading Patterns</div>
            <div class="guide-content">
              Save your own patterns and access them, as well as pattern presets, in a local
              database. Additionally, export the current state of the simulator as an SVG file.<br /><br />

              <span class="add-emp">Save Button</span><br />
              Give your pattern a file name and click <span class="add-emp">Save</span>.<br /><br />

              <span class="add-emp">Open Button</span><br />
              The databse will first display your saved patterns under the current tiling and
              rulestring of the simulator.<br />

              <ul>
                <li>
                  To show other saved patterns under the same tiling with a different rulestring,
                  select <span class="add-emp">All Rules</span>.
                </li>
                <li>
                  To show other saved patterns under different tilings, select
                  <span class="add-emp">All Tilings</span>. This will also enable access to the
                  preset catalogue.
                </li>
                <li>
                  To show pattern presets, make sure to select
                  <span class="add-emp">All Tilings</span> then, select Presets.
                </li>
              </ul>

              <span class="add-emp">SVG Button</span><br />
              Save your current pattern configuration as an SVG file by right clicking on the image
              and choosing <span class="add-emp">Save image as...</span>
            </div>
            <div class="close-guide" id="close-save-load">Close</div>
          </div>

          <!--
          <div class="control-group">
            <button id="view-straighten" title="(Alt+S) Fix rotation and position of the view">
              Straighten view
            </button>
          </div>
          -->
          <div class="control-group" style="display: none">
            <button id="btn-mem-set" title="(M) Store field in the momory">MS</button>
            <button id="btn-mem-get" title="(U) Restore field from memory">MR</button>
            <button id="btn-mem-clear" title="(Alt+M) Clear memory">MC</button>
          </div>

          <div class="control-group" style="display: none">
            <button id="btn-search" title="(S) Search for all cell groups in the field">
              Search
            </button>
          </div>

          <div class="control-group" style="display: none">
            Export <br />
            <button id="btn-export" title="Export whole field to text">All</button>
            <button id="btn-exp-visible" title="Export visible part of the field to text">
              Visible
            </button>
          </div>

          <!--Animation (i don't get this)-->
          <div class="control-group" id="animate-controls" style="display: none">
            Upload animation<br />
            <input id="upload-name" type="text" value="frame-{0}.png" />

            <div class="control-table">
              <div>
                <div>Size:</div>
                <div>
                  <input
                    id="animate-size"
                    class="medium"
                    type="number"
                    value="640"
                    title="Image size in pixels"
                  />
                </div>
              </div>
              <div>
                <div>Steps:</div>
                <div>
                  <input
                    id="animate-generations"
                    class="medium"
                    type="number"
                    value="1"
                    title="How many generations to simulate for"
                  />
                </div>
              </div>
              <div>
                <div>Frames/step:</div>
                <div>
                  <input
                    id="animate-frame-per-generation"
                    class="medium"
                    type="number"
                    value="10"
                  />
                </div>
              </div>
            </div>
            <br />

            <div class="control-table">
              <div>
                <div>Start:</div>
                <div>
                  <button
                    id="animate-set-start"
                    title="Set initial position for animation. Hint: use straighten view button"
                  >
                    Set</button
                  ><button id="animate-view-start">View</button>
                </div>
              </div>
              <div>
                <div>End:</div>
                <div>
                  <button
                    id="animate-set-end"
                    title="Set final position for animation. Hint: use straighten view button"
                  >
                    Set</button
                  ><button id="animate-view-end">View</button>
                </div>
              </div>
            </div>
            <button
              id="btn-animate-derotate"
              title="Try to offset start and end points by equal amount so that translation metween them become straight path, and orient that path vertically. Useful for filming spaceships. Not always possible."
            >
              Derotate
            </button>
            <button id="btn-upload-animation">Upload animation</button>
            <button id="btn-animate-cancel" style="display: none" class="dangerous">
              Cancel upload
            </button>
          </div>
        </div>

        <!-- Main content -->
        <div id="main-content">
          <!-- Main control -->
          <div id="canvas-container" tabindex="0">
            <canvas id="canvas" width="600" height="600"></canvas>
          </div>
          <div id="canvas-guide" class="hidden">
            <div class="guide-title">Poincaré Disk</div>
            <div class="guide-content">
              This model is a two-dimensional visualization of the hyperbolic plane. It is the space
              where Conway's Game of Life is played.
            </div>
            <div class="close-guide" id="close-canvas">Close</div>
          </div>
        </div>
        <div id="toolbar">
          <div id="state-selector" style="display: none">
            <div>States</div>
            <span id="state-selector-buttons"></span>
          </div>

          <div class="button-group" id="rsg">
            <button id="btn-reset" class="hover-svg" title="(C) Clear plane and reset view">
              <svg
                version="1.1"
                id="svg2"
                xmlns:dc="http://purl.org/dc/elements/1.1/"
                xmlns:cc="http://creativecommons.org/ns#"
                xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
                xmlns:svg="http://www.w3.org/2000/svg"
                xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
                xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
                sodipodi:docname="repeat.svg"
                inkscape:version="0.48.4 r9939"
                xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink"
                viewBox="0 0 1200 1200"
                enable-background="new 0 0 1200 1200"
                xml:space="preserve"
              >
                <g id="SVGRepo_bgCarrier" stroke-width="0" />

                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" />

                <g id="SVGRepo_iconCarrier">
                  <path
                    id="path18745"
                    inkscape:connector-curvature="0"
                    d="M600,0C268.629,0,0,268.629,0,600s268.629,600,600,600 c222.411,0,416.39-121.104,520.02-300.879L908.79,777.612C847.217,884.405,732.127,956.47,600,956.47 c-196.873,0-356.47-159.597-356.47-356.47S403.127,243.53,600,243.53c84.387,0,161.732,29.521,222.729,78.589L665.186,434.18 L1200,612.524V53.613l-174.17,123.926C917.124,67.952,766.553,0,600,0z"
                  />
                </g>
              </svg>
            </button>
            <button id="btn-play-start" title="(G or Space) Start continuous evolution of cells">
              <svg
                viewBox="-1 0 8 8"
                version="1.1"
                xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink"
              >
                <g transform="translate(-427.000000, -3765.000000)">
                  <g id="icons" transform="translate(56.000000, 160.000000)">
                    <polygon id="play" points="371 3605 371 3613 378 3609"></polygon>
                  </g>
                </g>
              </svg>
            </button>
            <button
              id="btn-play-stop"
              style="display: none"
              class="button-active"
              title="(G or Space) Stop continuous evolution of cells"
            >
              <svg
                fill="#000000"
                width="250px"
                height="250px"
                viewBox="0 0 22 22"
                xmlns="http://www.w3.org/2000/svg"
                id="memory-pause"
                stroke="#000000"
                stroke-width="0.00022"
              >
                <g id="SVGRepo_bgCarrier" stroke-width="0" />

                <g
                  id="SVGRepo_tracerCarrier"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke="#CCCCCC"
                  stroke-width="0.308"
                />

                <g id="SVGRepo_iconCarrier">
                  <path d="M6 4H9V18H6V4M13 18V4H16V18H13Z" />
                </g>
              </svg>
            </button>
            <button id="btn-step" class="hover-svg" title="(N) Evolve cells for one generation">
              <svg
                version="1.1"
                id="svg2"
                xmlns:dc="http://purl.org/dc/elements/1.1/"
                xmlns:cc="http://creativecommons.org/ns#"
                xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
                xmlns:svg="http://www.w3.org/2000/svg"
                xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
                xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
                sodipodi:docname="step-forward.svg"
                inkscape:version="0.48.4 r9939"
                xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink"
                width="800px"
                height="800px"
                viewBox="0 0 1200 1200"
                enable-background="new 0 0 1200 1200"
                xml:space="preserve"
              >
                <path
                  id="path22739"
                  inkscape:connector-curvature="0"
                  d="M950,0v1200H750V650l-500,500V50l500,500V0H950z"
                />
              </svg>
            </button>
            <div id="slider">
              <div id="speed">
                <span>Speed</span>
              </div>
              <input
                class="slider"
                type="range"
                orient="horizontal"
                min="0.25"
                max="4"
                value="1"
                step="0.25"
                oninput="rangeValue.innerText = this.value"
              />
              <div id="speed-value"><span id="rangeValue"> 1 </span><span>x</span></div>
            </div>
          </div>
          <div id="simulation-control-guide" class="hidden">
            <div class="guide-title">Simulator Control</div>
            <div class="guide-content">
              This set of buttons can be used to control the simulator itself. The following are the
              component functionalities in order:
              <ol>
                <li><span class="add-emp">Reset</span> the simulator</li>
                <li>
                  <span class="add-emp">Play</span> the simulation continuously or
                  <span class="add-emp">Pause</span> the simulation
                </li>
                <li>Move through the simulation by <span class="add-emp">step</span></li>
                <li>Change the <span class="add-emp">speed</span> of the simulation</li>
              </ol>
              Note that changes to the playback speed during a continuous simulation will only take
              effect after replaying the simulator. That is, you would first have to pause the
              simulator then play it again to reflect the new speed.
            </div>
            <div class="close-guide" id="close-simulation-control">Close</div>
          </div>
        </div>

        <div id="right-sidebar">
          <div class="button-group" id="disk-control">
            <!--<button
              id="btn-mode-edit"
              title="(E) Use left button to edit, middle or left+shift to pan"
            >-->
            <button id="btn-mode-edit" class="hover" title="(E) Toggle initial population of cells">
              Edit
            </button>
            <!--<button
              id="btn-mode-pan"
              title="(P) Use left button to pan, middle or left+shift to edit"
            >-->
            <button id="btn-mode-pan" class="hover" title="(P) Pan through the disk">Pan</button>
            <button id="btn-nav-home" class="hover" title="(H) Navigate to the origin">
              Origin
            </button>
          </div>

          <div id="disk-control-guide" class="hidden">
            <div class="guide-title">Disk Control</div>
            <div class="guide-content">
              The following are the button functionalities in order:
              <ol>
                <li><span class="add-emp">Edit</span> the state of the cells</li>
                <li><span class="add-emp">Pan</span> the Poincaré disk</li>
                <li>Recenter the disk at the <span class="add-emp">origin</span></li>
              </ol>

              Note that the variants of the Game of Life have additional states. The Immigration
              Game allows users to edit the state of a cell to follow the coloring of any (red or
              blue) of its two live states. However, the Rainbow Game of Life allows users to edit
              the state of a cell to follow the coloring of only two (black or white) of its ten
              live states. The other eight live states can be viewed only during the simulation
              proper.
            </div>
            <div class="close-guide" id="close-disk-control">Close</div>
          </div>
          <div id="statusbar-dash">
            <div id="statusbar">
              <div class="control-table">
                <div>
                  <div>Neighbors:</div>
                  <div><span id="grid-num-neighbors" class="numdisplay"></span></div>
                </div>
                <div>
                  <div>Population:</div>
                  <div><span id="population" class="numdisplay"></span></div>
                </div>
                <div>
                  <div>Generation:</div>
                  <div><span id="generation" class="numdisplay"></span></div>
                </div>
              </div>
            </div>
          </div>
          <div id="statusbar-guide" class="hidden">
            <div class="guide-title">Simulation Data</div>
            <div class="guide-content">
              This section displays the number of <span class="add-emp">neighbors</span> of each
              cell (based on the tiling), the current number of live cells in the
              <span class="add-emp">population</span>, and how many
              <span class="add-emp">generations</span> or timesteps have elapsed.
            </div>
            <div class="close-guide" id="close-statusbar-guide">Close</div>
          </div>
          <div id="navigator-dash">
            <div id="navigator">
              <!--<button id="btn-nav-clear" style="display: none" title="Clear list of cell groups">
              Clear
            </button>-->
              <div id="navigator-wrap">
                Clusters
                <div id="navigator-cluster-list"></div>
              </div>
            </div>
          </div>

          <div id="navigator-guide" class="hidden">
            <div class="guide-title">Cluster Navigation</div>
            <div class="guide-content">
              This portion displays the cell clusters present on the Poincaré disk. Each cluster is
              represented by two properties:
              <ol>
                <li>
                  <span class="add-emp">Cluster No.</span> = an ID to differentiate it from other
                  clusters
                </li>
                <li>
                  <span class="add-emp">No. of Cells</span> = the number of live cells present in
                  the cluster
                </li>
              </ol>

              To observe a specific specific group of cells, select a cell cluster to center the
              simulator on it.
            </div>
            <div class="close-guide" id="close-navigator-guide">Close</div>
          </div>
        </div>
      </div>
    </div>

    <!-- popup dialogs ets -->

    <div id="export-dialog" style="display: none" class="popup-container">
      <div class="popup-shadow"></div>
      <div class="popup">
        <h1>Export data</h1>
        <textarea
          id="export"
          style="width: 100%"
          autocomplete="off"
          autocorrect="off"
          autocapitalize="off"
          spellcheck="false"
          class="code-entry"
        ></textarea>
        <div class="toolbar">
          <button id="btn-export-close">OK</button>
        </div>
      </div>
    </div>

    <div id="import-dialog" style="display: none" class="popup-container">
      <div class="popup-shadow"></div>
      <div class="popup">
        <h1>Import data</h1>
        <textarea
          id="import"
          style="width: 100%"
          height="50%"
          autocomplete="off"
          autocorrect="off"
          autocapitalize="off"
          spellcheck="false"
          class="code-entry"
        ></textarea>
        <div class="toolbar">
          <button id="btn-rainbow-run">OK</button>
          <button id="btn-rainbow-cancel">Cancel</button>
        </div>
      </div>
    </div>
    <!-- Dialog to load data to indexed DB -->
    <div id="file-dialog-open" style="display: none" class="popup-container">
      <div class="popup-shadow"></div>
      <div class="popup">
        <h1>Load from local database</h1>
        <div class="toolbar">
          <span id="my-catalogue"
            >Show My Catalogue:
            <button id="toggle-all-grids">All Tilings</button>
            <button id="toggle-all-rules" class="hover">All Rules</button></span
          >
          <span id="preset-catalogue"
            >Show Preset Catalogue:
            <button id="toggle-presets" class="button-disabled">Presets</button></span
          >
        </div>
        <div id="file-dialog-files"></div>
        <div class="toolbar">
          <button id="btn-files-cancel">Cancel</button>
        </div>
      </div>
    </div>

    <!-- Dialog to save data to indexed DB -->
    <div id="file-dialog-save" style="display: none" class="popup-container">
      <div class="popup-shadow"></div>
      <div class="popup">
        <h1>Save to local database</h1>
        <div class="dialog-content">
          Save as:
          <input id="file-dialog-save-as" class="wide" value="" placeholder="Pattern Name" />
          <button id="file-dialog-save-btn">Save</button>
        </div>
        <div id="file-dialog-save-files"></div>
        <div class="toolbar">
          <button id="btn-files-save-cancel">Cancel</button>
        </div>
      </div>
    </div>

    <!-- Dialog to save SVG -->
    <div id="svg-export-dialog" style="display: none" class="popup-container">
      <div class="popup-shadow"></div>
      <div class="popup">
        <h1>Use Right Click to Save As SVG</h1>
        <div class="dialog-content">
          <div id="svg-image-container">[Image]</div>
        </div>
        <div class="toolbar">
          <button id="btn-svg-export-dialog-close">OK</button>
        </div>
      </div>
    </div>

    <script src="application.js"></script>
  </body>
</html>
